{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Configure NethVoice Integrations (AI, Transcription, etc.)",
    "$id": "http://nethserver.org/json-schema/task/input/nethvoice/configure-integrations",
    "description": "Configure integrations: AI features (call transcription, voicemail transcription, summarization)",
    "examples": [
        {
            "satellite_call_transcription_enabled": "True",
            "satellite_voicemail_transcription_enabled": "True",
            "deepgram_api_key": "g7id86rxn5cns0umkvx6klo9rm0b0vjzrljg064k",
            "openai_api_key": "sk-proj-xxxxxxxxxxxxx"
        },
        {
            "satellite_call_transcription_enabled": "False",
            "satellite_voicemail_transcription_enabled": "False",
            "deepgram_api_key": "",
            "openai_api_key": ""
        }
    ],
    "type": "object",
    "required": [
        "satellite_call_transcription_enabled",
        "satellite_voicemail_transcription_enabled"
    ],
    "properties": {
        "satellite_call_transcription_enabled": {
            "description": "Enable real-time call transcription",
            "type": "string",
            "enum": [
                "True",
                "False"
            ]
        },
        "satellite_voicemail_transcription_enabled": {
            "description": "Enable voicemail transcription",
            "type": "string",
            "enum": [
                "True",
                "False"
            ]
        },
        "deepgram_api_key": {
            "description": "Deepgram API key for real-time call and voicemail transcription",
            "type": "string",
            "anyOf": [
                {
                    "pattern": "^[a-zA-Z0-9]+$"
                },
                {
                    "pattern": "^$"
                }
            ]
        },
        "openai_api_key": {
            "description": "OpenAI API key for call and voicemail summarization",
            "type": "string",
            "anyOf": [
                {
                    "pattern": "^[a-zA-Z0-9\\-_]+$"
                },
                {
                    "pattern": "^$"
                }
            ]
        }
    }
}
